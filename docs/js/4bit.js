var defaultTheme = "Konsolas";
function GetColorSchemeList() {
  return [
"Terminal-Basic","3024-Day","3024-Night","Aardvark-Blue","Abernathy","Adventure","AdventureTime","Afterglow","Alabaster","AlienBlood","Andromeda","Apple-Classic","Apple-System-Colors","arcoiris","Argonaut","Arthur","AtelierSulphurpool","Atom","AtomOneLight","Aurora","Ayu-Mirage","ayu-light","ayu","Banana-Blueberry","Batman","Belafonte-Day","Belafonte-Night","BirdsOfParadise","Blazer","Blue-Matrix","BlueBerryPie","BlueDolphin","BlulocoDark","BlulocoLight","Borland","Breeze","Bright-Lights","Broadcast","Brogrammer","Builtin-Dark","Builtin-Light","Builtin-Pastel-Dark","Builtin-Solarized-Dark","Builtin-Solarized-Light","Builtin-Tango-Dark","Builtin-Tango-Light","C64","Calamity","catppuccin-frappe","catppuccin-latte","catppuccin-macchiato","catppuccin-mocha","CGA","Chalk","Chalkboard","ChallengerDeep","Chester","Ciapre","CLRS","Cobalt-Neon","Cobalt2","coffee-theme","CrayonPonyFish","Cyberdyne","cyberpunk","Dark-Pastel","Dark+","darkermatrix","darkmatrix","Darkside","dayfox","deep","Desert","DimmedMonokai","Django","DjangoRebornAgain","DjangoSmooth","Doom-Peacock","DoomOne","DotGov","Dracula","Dracula+","duckbones","Duotone-Dark","Earthsong","Elemental","Elementary","ENCOM","Espresso-Libre","Espresso","Everblush","Fahrenheit","Fairyfloss","farmhouse-dark","farmhouse-light","Fideloper","Firefly-Traditional","FirefoxDev","Firewatch","FishTank","Flat","Flatland","flexoki-dark","flexoki-light","Floraverse","ForestBlue","Framer","FrontEndDelight","FunForrest","Galaxy","Galizur","GitHub-Dark","Github","Glacier","Grape","Grass","Grey-green","Gruvbox-Light","GruvboxDark","GruvboxDarkHard","Guezwhoz","Hacktober","Hardcore","Harper","HaX0R-BLUE","HaX0R-GR33N","HaX0R-R3D","Highway","Hipster-Green","Hivacruz","Homebrew","Hopscotch-256","Hopscotch","Hurtado","Hybrid","IC-Green-PPL","IC-Orange-PPL","iceberg-dark","iceberg-light","idea","idleToes","IR-Black","iTerm2-Dark-Background","iTerm2-Default","iTerm2-Light-Background","iTerm2-Pastel-Dark-Background","iTerm2-Smoooooth","iTerm2-Solarized-Dark","iTerm2-Solarized-Light","iTerm2-Tango-Dark","iTerm2-Tango-Light","Jackie-Brown","Japanesque","Jellybeans","JetBrains-Darcula","jubi","kanagawabones","Kibble","Kolorit","Konsolas","Lab-Fox","Laser","Later-This-Evening","Lavandula","LiquidCarbon","LiquidCarbonTransparent","LiquidCarbonTransparentInverse","lovelace","Man-Page","Mariana","Material","MaterialDark","MaterialDarker","MaterialDesignColors","MaterialOcean","Mathias","matrix","Medallion","Mellifluous","midnight-in-mojave","Mirage","Misterioso","Molokai","MonaLisa","Monokai-Remastered","Monokai-Soda","Monokai-Vivid","N0tch2k","neobones-dark","neobones-light","Neon","Neopolitan","Neutron","Night-Owlish-Light","nightfox","NightLion-v1","NightLion-v2","niji","Nocturnal-Winter","nord-light","nord","Novel","NvimDark","NvimLight","Obsidian","Ocean","Oceanic-Next","OceanicMaterial","Ollie","OneHalfDark","OneHalfLight","Operator-Mono-Dark","Overnight-Slumber","PaleNightHC","Pandora","Paraiso-Dark","PaulMillr","PencilDark","PencilLight","Peppermint","Piatto-Light","Pnevma","Popping-and-Locking","primary","Pro-Light","Pro","Purple-Rain","purplepeter","Rapture","Raycast-Dark","Raycast-Light","rebecca","Red-Alert","Red-Planet","Red-Sands","Relaxed","Retro","Rippedcasts","rose-pine-dawn","rose-pine-moon","rose-pine","Rouge-2","Royal","Ryuuko","Sakura","Scarlet-Protocol","Seafoam-Pastel","SeaShells","seoulbones-dark","seoulbones-light","Seti","shades-of-purple","Shaman","Slate","SleepyHollow","Smyck","Snazzy","SoftServer","Solarized-Darcula","Solarized-Dark-Patched","Solarized-Dark-Higher-Contrast","Spacedust","SpaceGray-Eighties-Dull","SpaceGray-Eighties","SpaceGray","Spiderman","Spring","Square","Sublette","Subliminal","Sundried","Symfonic","synthwave-everything","synthwave","SynthwaveAlpha","Tango-Adapted","Tango-Half-Adapted","Teerb","terafox","Terminal-Basic","Thayer-Bright","The-Hulk","Tinacious-Design-Dark","Tinacious-Design-Light","tokyonight-day","tokyonight-storm","tokyonight","Tomorrow-Night-Blue","Tomorrow-Night-Bright","Tomorrow-Night-Burns","Tomorrow-Night-Eighties","Tomorrow-Night","Tomorrow","ToyChest","Treehouse","Twilight","Ubuntu","UltraDark","UltraViolent","UnderTheSea","Unikitty","Urple","Vaughn","VibrantInk","vimbones","Violet-Dark","Violet-Light","WarmNeon","Wez","Whimsy","WildCherry","wilmersdorf","Wombat","Wryan","zenbones-dark","zenbones-light","zenbones","Zenburn","zenburned","zenwritten-dark","zenwritten-light"
  ]
}

function GetDarkColorSchemes() {
  return [
    "3024-Night","Aardvark-Blue","Abernathy","Adventure","AdventureTime","Afterglow","AlienBlood","Andromeda","Apple-Classic","Apple-System-Colors","arcoiris","Argonaut","Arthur","AtelierSulphurpool","Atom","Aurora","Ayu-Mirage","ayu","Banana-Blueberry","Batman","Belafonte-Night","BirdsOfParadise","Blazer","Blue-Matrix","BlueBerryPie","BlueDolphin","BlulocoDark","Borland","Breeze","Bright-Lights","Broadcast","Brogrammer","Builtin-Dark","Builtin-Pastel-Dark","Builtin-Solarized-Dark","Builtin-Tango-Dark","C64","Calamity","catppuccin-frappe","catppuccin-macchiato","catppuccin-mocha","CGA","Chalk","Chalkboard","ChallengerDeep","Chester","Ciapre","Cobalt-Neon","Cobalt2","CrayonPonyFish","Cyberdyne","cyberpunk","Dark-Pastel","Dark+","darkermatrix","darkmatrix","Darkside","deep","Desert","DimmedMonokai","Django","DjangoRebornAgain","DjangoSmooth","Doom-Peacock","DoomOne","DotGov","Dracula","Dracula+","duckbones","Duotone-Dark","Earthsong","Elemental","Elementary","ENCOM","Espresso-Libre","Espresso","Everblush","Fahrenheit","Fairyfloss","farmhouse-dark","Fideloper","Firefly-Traditional","FirefoxDev","Firewatch","FishTank","Flat","Flatland","flexoki-dark","Floraverse","ForestBlue","Framer","FrontEndDelight","FunForrest","Galaxy","Galizur","GitHub-Dark","Glacier","Grape","Grass","Grey-green","GruvboxDark","GruvboxDarkHard","Guezwhoz","Hacktober","Hardcore","Harper","HaX0R-BLUE","HaX0R-GR33N","HaX0R-R3D","Highway","Hipster-Green","Hivacruz","Homebrew","Hopscotch-256","Hopscotch","Hurtado","Hybrid","IC-Green-PPL","IC-Orange-PPL","iceberg-dark","idea","idleToes","IR-Black","iTerm2-Dark-Background","iTerm2-Default","iTerm2-Pastel-Dark-Background","iTerm2-Smoooooth","iTerm2-Solarized-Dark","iTerm2-Tango-Dark","Jackie-Brown","Japanesque","Jellybeans","JetBrains-Darcula","jubi","kanagawabones","Kibble","Kolorit","Konsolas","Lab-Fox","Laser","Later-This-Evening","Lavandula","LiquidCarbon","LiquidCarbonTransparent","LiquidCarbonTransparentInverse","lovelace","Mariana","MaterialDark","MaterialDarker","MaterialDesignColors","MaterialOcean","Mathias","matrix","Medallion","Mellifluous","midnight-in-mojave","Mirage","Misterioso","Molokai","MonaLisa","Monokai-Remastered","Monokai-Soda","Monokai-Vivid","N0tch2k","neobones-dark","Neon","Neopolitan","Neutron","nightfox","NightLion-v1","NightLion-v2","niji","Nocturnal-Winter","nord","NvimDark","Obsidian","Ocean","Oceanic-Next","OceanicMaterial","Ollie","OneHalfDark","Operator-Mono-Dark","Overnight-Slumber","PaleNightHC","Pandora","Paraiso-Dark","PaulMillr","PencilDark","Peppermint","Pnevma","Popping-and-Locking","Pro","Purple-Rain","purplepeter","Rapture","Raycast-Dark","rebecca","Red-Alert","Red-Planet","Red-Sands","Relaxed","Retro","Rippedcasts","rose-pine-moon","rose-pine","Rouge-2","Royal","Ryuuko","Sakura","Scarlet-Protocol","Seafoam-Pastel","SeaShells","seoulbones-dark","Seti","shades-of-purple","Shaman","Slate","SleepyHollow","Smyck","Snazzy","SoftServer","Solarized-Darcula","Solarized-Dark-Patched","Solarized-Dark-Higher-Contrast","Spacedust","SpaceGray-Eighties-Dull","SpaceGray-Eighties","SpaceGray","Spiderman","Square","Sublette","Subliminal","Sundried","Symfonic","synthwave-everything","synthwave","SynthwaveAlpha","Teerb","terafox","Thayer-Bright","The-Hulk","Tinacious-Design-Dark","tokyonight-storm","tokyonight","Tomorrow-Night-Blue","Tomorrow-Night-Bright","Tomorrow-Night-Burns","Tomorrow-Night-Eighties","Tomorrow-Night","ToyChest","Treehouse","Twilight","Ubuntu","UltraDark","UltraViolent","UnderTheSea","Urple","Vaughn","VibrantInk","Violet-Dark","WarmNeon","Wez","Whimsy","WildCherry","wilmersdorf","Wombat","Wryan","zenbones-dark","Zenburn","zenburned","zenwritten-dark"
  ]
}

function GetLightColorSchemes() {
  return [
""
  ]
}

function feelingLucky() {
    var colorSchemes = GetColorSchemeList();
    var randomNumber = Math.floor(Math.random() * colorSchemes.length);
    var fourBitCssLink = document.getElementById("4bitcss");
    if (! fourBitCssLink) {
        throw "Must have a stylesheet link with the id '4bitcss'"
    }
    SetColorScheme(colorSchemes[randomNumber])

    for (arg in arguments) {
        if (arguments[arg].value) {
            arguments[arg].value = colorSchemes[randomNumber];
        }
    }
}

function SetColorScheme(colorSchemeName) {
    var fourBitCssLink = document.getElementById("4bitcss");
    if (! fourBitCssLink) {
        throw "Must have a stylesheet link with the id '4bitcss'"
    }
    var foundScheme = GetColorSchemeList().find(element => element == colorSchemeName);
    if (! foundScheme) {
        throw ("Color Scheme '" + colorSchemeName + "' does not exist");
    }
    fourBitCssLink.href = "/" + foundScheme + "/" + foundScheme + ".css";
    fourBitCssLink.themeName = foundScheme;
    var downloadLink = document.getElementById("downloadSchemeLink");
    if (downloadLink) {
            downloadLink.href = "/" + foundScheme + "/" + foundScheme + ".css";
    }
    var cdnLink = document.getElementById("cdnSchemeLink")
    if (cdnLink) {
        cdnLink.href = "https://cdn.jsdelivr.net/gh/2bitdesigns/4bitcss@latest/css/" + foundScheme + ".css";
    }

    var colorSchemeNameLink = document.getElementById("colorSchemeNameLink")
    if (colorSchemeNameLink) {
        colorSchemeNameLink.href = "/" + foundScheme;
    }

    var schemeSelector = document.getElementById("schemeSelector");
    if (schemeSelector) {
        schemeSelector.value = foundScheme;
    }
}

function GetCSSVariable(name) {
    var root = document.querySelector(":root");
    var rootStyle = getComputedStyle(root);
    return rootStyle.getPropertyValue(name);
}

function saveTheme() {
    var fourBitCssLink = document.getElementById("4bitcss");
    if (! fourBitCssLink) {
        throw "Must have a stylesheet link with the id '4bitcss'"
    }
    if (typeof(Storage) == "undefined") {
        throw "Cannot save themes without HTML5 Local Storage"
    }

    localStorage.setItem("savedThemeLink", fourBitCssLink.themeName);
}

function loadTheme() {
    if (typeof(Storage) == "undefined") {
        throw "Cannot save themes without HTML5 Local Storage"
    }
    var previouslySaved = localStorage.getItem("savedThemeLink");
    if (previouslySaved) {
        SetColorScheme(previouslySaved);
    }
    for (arg in arguments) {
        if (arguments[arg].value) {
            arguments[arg].value = previouslySaved;
        }
    }
}